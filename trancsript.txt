Transcript with 1-minute Timeline Markers
=====================================


[0:00:00]
Hi, my name is John Berryman. I'm an AI consultant at Arcturus Labs, and I'm the author of prompt engineering for LLMs. Today I'd like to talk about a user experience problem that is related to context management. A lot of times you'll see an assistant type experience which over indexes into the conversation aspect. Everything is talking about something but not never getting any work done. What you really want is an experience where you're assistant and you get to work on a thing together. In order to accomplish that, what I like to introduce is the notion of artifacts. I know that terms have been taken before, but I've got a little bit different take on it. So let's dig in. First of all is the scenario. On your screen, on the screen we'll show a user experience for a real estate professional.
[0:01:00]

[0:01:00]
The left screen is a chat window. The right screen is going to be the artifacts that we introduce in a moment. But first we're going to see what the experience is like without artifacts. In a conversation with this assistant, we can do things like look up listings, generate emails and send emails on behalf of our users. So let's look at listing at 192 Oak Street. Okay, great. So it's returned, but here's the first problem. This information that it has has already been processed and regurgitated by the model. Is this all the information that we have access to? Could it possibly be hallucinated? We don't know. It's already been kind of recycled once. Alright, let's be satisfied with that for the time being. And let's ask the assistant to pull the email template and write a draft email. There's actually two things here. There's the draft template and the email itself. But as you can see here, it drafted the email and I really don't have any visibility into the template.
[0:02:00]

[0:02:00]
Maybe I want to change it or something. And this is just a template. We can see that pieces of, you know, the information has been inserted, but some of the information is missing. So I can say, you know, I forgot to tell you that the potential buyer's name is Tim, Tim Cersey. And the model can go and change the email. There's Tim Cersey. But maybe I don't want to tell the model to change the line. Maybe I just want to change it myself. And it's really annoying to have to coerce a model in conversation to change things. So after, you know, going back and forth on this email, eventually I need to email Tim. So I'll copy out the email, go to my email app, paste it, send it. And then, of course, I realize I've copied out the boilerplate by the model because everything is just text in the conversation.
[0:03:00]

[0:03:00]
You don't actually get any real work done. All right. So now let's look at an alternative with artifacts, which will show up in this window over here. I can make the same request to look for the home listing. And when the model comes back, it doesn't have the big explanation because it knows it can link to something in this right window, the artifact. Now, you have to use your creative imagination a little bit. This is JavaScript, which no real estate professional is going to want to read. But if you have the raw JavaScript of the asset itself, and if you know what type it is, then you can build any type of user experience that you want around this. This JavaScript could be, or this JSON, could be turned into a carousel that you can spend through and look at images of the home. It can be turned into buttons that you can click and get more detailed knowledge and charts and graphs and stuff. So already you can imagine a much richer user experience.
[0:04:00]

[0:04:00]
And I will know exactly as the user, I will know exactly what the truth is because it's not just something that's been regurgitated by the model. So next up, let's go through pulling the email template and sticking the information from this listing into a new email. Same scenario as before. There's still two items. There's the template and the actual email itself. Now, the cool thing about this is everything is hyperlinked. We don't get everything repeated in the context of the conversation. If we want to, we can look up the email that's been rendered. If there's something strange, we can go back to our template. And just like before, you know, we've left out the client name, I could tell the model, please stick in Tim Cersei as the name for the client.
[0:05:00]

[0:05:00]
It will do that, but the cool thing is, as I could say, no, no, that's Cersei spelled that way. I can make changes myself. The assistant can see my changes. I can see the assistant changes. It really feels like we're working on something together. And finally, you know, I've gone back and forth and working on this artifact, every version is right here. It's on the screen in front of me. I don't have like different versions in the scroll back that I'll have to track down. So when I'm satisfied that the current state of the artifact is good in this current app, I can copy, paste it out. This is rich content. If the app knows that this is an email, then all we have to do is stick a button on here that says this is an email, send it. And it'll automatically be able to send it to your customer. So a lot richer user experience by teaching the model what the notion of an artifact is. Now let's see how you do this. It's actually quite simple.
[0:06:00]

[0:06:00]
Everything that you're going to see, there's no frameworks. I'm just raw-dogging it to to to claw it. It's not it. And it's it's basically two things in the back end. It is the instructions and it is data management to just kind of get it all back and into order. So I always like to say that you need to be empathetic for your model. Think through their eyes. They've never heard of an artifact, at least in my definition. So we need to make sure that we describe what an artifact is. Self-contained piece of content that can be referenced in a conversation, et cetera. And as far as the large language model is concerned, it always has this format. I like XML. It's kind of an anthropic thing. They do really good with it. But it's it's got an identifier. It's got content and it's got a human readable title. That's the important pieces. The really important piece that has actually kind of magic for a lot of different things
[0:07:00]

[0:07:00]
you can do with this is the identifier. These models, it doesn't really quite matter what the identifier is. These models are are really good about not hallucinating these weird strings of text. So it's really easy for a model to use it to reference to things. All right. So there's an identifier. Then we include instructions. We say that the user has visibility into this. So the model doesn't have to go to describe the artifact in detail. It can just summarize it and point to it. We also tell the model in these lines how exactly it can refer to it. It can it can say, all right, this ID response corresponds to the thing I want you to look at. And the models have been trained on the internet, so they really get the idea of how to use a hyperlink like this. Super easy for the models to grok. We also talk about how the assistant can't itself create an artifact, just like it created the email based on the template.
[0:08:00]

[0:08:00]
And it's simple. Here's an example. If for example, the human said create me a sorting function of Python. The assistant can have a normal conversation, but then inject an HTML blob that is in the shape of an artifact and then can refer to it like this. So it's a really easy way of introducing it. And similarly, this is how an assistant knows to edit an artifact. And basically all I'm doing for simplicity is just having to completely rewrite the whole thing. If the artifact is huge, you do something better, I'm sure. And finally, the user is going to have a bunch of artifacts built up. So we'll tell the model that it can look for these things inside the artifact info tag. The rest of that is just pretty typical context management data management within the loop itself.
[0:09:00]

[0:09:00]
In a conversation, the user is going to say things to the assistant. So all we're doing here is taking the user's message and very typically appending it to the history, sending it to the model. There could be tool calls, so we're dealing with that. And we're getting a final response out. The only thing that's different is this right here and how we put the problem together at the top. Basically, we say, take whatever the history is and we're going to extract the artifacts and reassemble that into two bits. It's just going to be a list of artifacts that we can display on the front end as JSON. So we pull it out of the XML and it's going to be messages that instead of the artifacts that the model is written, it's just turned it into a link that references out of that.
[0:10:00]

[0:10:00]
And then the final thing is you can go here and all of these are just hyperlinks. And I've just made it so that the tabs have the same hyperlink as these links are pointing to. So it's a really easy implementation. Obviously, this is just a start. You can do whatever you want to. So that's simple bit of context management that will really help you to make a better experience where it's more like pair programming with the assistant. It's more like kind of working on something rather than just chit-chatting about it. So if you found that interesting, I hope you enjoyed it. I wrote a whole blog post on this that's called Cut the Chit Chat with Artifacts. And check it out. I do some interesting things there and I hope you like it. See ya.